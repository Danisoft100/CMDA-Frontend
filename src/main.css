@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --toastify-color-success: #117e45;
  --toastify-color-error: #ff4834;
}

/* For Webkit-based browsers (Chrome, Safari and Opera) */
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* For IE, Edge and Firefox */
.scrollbar-hide {
  -ms-overflow-style: none; /* IE and Edge */
  scrollbar-width: none; /* Firefox */
}

#resource-body a {
  display: inline-block;
  color: #994279;
  margin: 4px 0;
  font-weight: 600;
}
#resource-body a:hover {
  text-decoration: underline;
}

#resource-body p,
#resource-body ul,
#resource-body h2,
#resource-body h3,
#resource-body h4,
#resource-body img {
  margin: 8px 0;
}

#paypal-donate iframe {
  z-index: 0 !important;
}

/* Tutorial Animations */
/* Requirements: 3.6, 3.7 - Smooth transitions for modal and overlay */

@keyframes tutorial-fade-in {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes tutorial-slide-up {
  from {
    opacity: 0;
    transform: translateY(100%);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Step transition animation for modal content - Requirements 3.7 */
@keyframes tutorial-step-content-transition {
  0% {
    opacity: 0;
    transform: translateX(10px);
  }
  100% {
    opacity: 1;
    transform: translateX(0);
  }
}

/* Reverse step transition for going back */
@keyframes tutorial-step-content-transition-reverse {
  0% {
    opacity: 0;
    transform: translateX(-10px);
  }
  100% {
    opacity: 1;
    transform: translateX(0);
  }
}

/* Modal position transition - Requirements 3.7 */
@keyframes tutorial-modal-position-transition {
  0% {
    opacity: 0.7;
  }
  100% {
    opacity: 1;
  }
}

/* Spotlight transition animation - Requirements 3.6 */
@keyframes tutorial-spotlight-transition {
  0% {
    opacity: 0.5;
  }
  100% {
    opacity: 1;
  }
}

.animate-fade-in {
  animation: tutorial-fade-in 0.3s ease-out forwards;
}

.animate-slide-up {
  animation: tutorial-slide-up 0.3s ease-out forwards;
}

/* Step content transition classes */
.tutorial-step-content-enter {
  animation: tutorial-step-content-transition 0.25s ease-out forwards;
}

.tutorial-step-content-enter-reverse {
  animation: tutorial-step-content-transition-reverse 0.25s ease-out forwards;
}

/* Modal with smooth position transitions - Requirements 3.7 */
.tutorial-modal-transitioning {
  transition: top 0.35s cubic-bezier(0.4, 0, 0.2, 1),
              left 0.35s cubic-bezier(0.4, 0, 0.2, 1),
              transform 0.35s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Overlay with smooth clip-path transitions - Requirements 3.6 */
.tutorial-overlay-transitioning {
  transition: clip-path 0.35s cubic-bezier(0.4, 0, 0.2, 1),
              opacity 0.3s ease-in-out;
}

/* Respect reduced motion preference - Requirements 8.5 */
@media (prefers-reduced-motion: reduce) {
  .animate-fade-in,
  .animate-slide-up,
  .tutorial-bottom-sheet,
  .tutorial-step-content-enter,
  .tutorial-step-content-enter-reverse {
    animation: none;
    opacity: 1;
    transform: none;
  }
  
  .tutorial-modal-transitioning {
    transition: none;
  }
  
  .tutorial-overlay-transitioning {
    transition: opacity 0.15s ease-in-out;
  }
}

/* Tutorial Bottom Sheet Styles - Requirements 7.1 */
.tutorial-bottom-sheet {
  animation: tutorial-slide-up 0.3s ease-out forwards;
  /* Ensure bottom sheet is above everything on mobile */
  z-index: 10000 !important;
  /* Position at bottom of screen */
  position: fixed !important;
  bottom: 0 !important;
  left: 0 !important;
  right: 0 !important;
  /* Refined shadow for better elevation feel */
  box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.15) !important;
}

/* Bottom sheet step transition animation */
@keyframes tutorial-step-transition {
  0% {
    opacity: 0.8;
    transform: translateY(10px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

.tutorial-bottom-sheet .tutorial-step-content {
  animation: tutorial-step-transition 0.2s ease-out;
}

/* Mobile touch-friendly button styles */
@media (max-width: 750px) {
  .tutorial-bottom-sheet button {
    min-height: 40px; /* Touch target size */
    touch-action: manipulation;
  }
  
  /* Make sure bottom sheet is visible at screen bottom */
  .tutorial-bottom-sheet {
    margin-bottom: 0;
    padding-bottom: calc(12px + env(safe-area-inset-bottom, 0px));
    max-height: 50vh;
    overflow-y: auto;
    border-radius: 20px 20px 0 0 !important;
  }
  
  /* Ensure skip confirmation dialog is also above everything */
  .tutorial-skip-dialog {
    z-index: 10001 !important;
  }
}

/* Scale-in animation for dialogs */
@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.animate-scale-in {
  animation: scaleIn 0.2s ease-out forwards;
}